# SVSReader
A tool to read and annotate SVS Whole-Slide Images


使用方法:

step1:输入SVS文件的路径或者包含多张SVS文件的文件夹的路径，软件会自动记录所输入的路径，如果下次启动时还想打开相应路径，直接输入"last"即可。

step2:软件会自动打开SVS文件，如果输入的是文件夹路径，软件会依次打开文件夹中每一个SVS文件。如果打开的SVS文件已经标记过，软件会提示导入原来的标记文件继续标记（输入C）、重新对文件进行标记（输入R）以及跳过这一文件直接标记下一个（按任意键）。

step3:打开SVS文件后，会显示"Thumbnail"窗口，显示这个SVS文件的缩略图，左上角显示缩略图的缩放比例，如果显示50则表示缩略图相比原图缩小了50倍。

step4:在缩略图中按下鼠标左键拖动可以选择区域（红色框），选定区域会显示Box的左上角和右下角的坐标，箭头前的坐标表示缩略图中的坐标，箭头后的坐标是原图中的坐标。

step5:松开鼠标后选定区域会显示在"Selected Area"窗口中，如果选择区域较大，打开选定区域可能需要一定时间，请耐心等待。图片右上角有4行文字信息，第一行表示选定的区域范围，以左上角和右下角的原始图中坐标表示；第二行表示所显示的图层级别，第三行则表示相应图层级别的缩放比率，图层级别为0时表示原图，缩放比例为1；第4行表示显示图像与实际图像的缩放比率，如果显示区域的实际大小超出显示器分辨率会进行缩放，W和H分别表示水平和垂直方向的伸缩比例。

step6:在"Selected Area"窗口中，如果按下鼠标左键拖动可以进一步放大所选择的区域（红色框），按下鼠标右键拖动选择标记区域（绿色框），松开鼠标后会要求输入标记区域的描述，重复进行可以标记不同区域。

step7:如果标记结束，直接关闭"Thumbnail"窗口即可，标记信息会自动保存到拓展名为".mark"的与SVS文件同名的文件中。

在.mark文件中，一行数据表示一条标记，标记数据共有5项，分别为标记区域左上角在原图上的坐标x和y、标记区域的大小width和height以及标记区域的注释描述，每项数据以制表符(\t)分隔（如果后续处理需要特定的标记文件格式，可以通过修改程序实现）

该程序使用了OpenCV 3.10以及OpenSlide3.41，并且部分使用了Windows API函数，使用msvc2017编译

编译时注意事项：
修改OPENCV路径需要修改cv310debug.props和cv310release.props属性页文件，也可将OPENCV路径设置为环境变量CV3PATH

修改OPENSLIDE路径需要修改openslide_x64.props属性页，也可将OPENSLIDE路径设置为环境变量OSLPATH

编译时需要将opencv_world310.dll以及openslide bin文件夹下的除openslide-jni.dll外所有dll拷贝至执行目录下
